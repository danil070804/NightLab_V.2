<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>NightLab - –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Floating Navigation -->
        <nav class="nav-bar" id="nav-bar">
            <button class="nav-item active" data-page="home">
                <span class="nav-icon">üè†</span>
                <span class="nav-label">–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-item" data-page="apps">
                <span class="nav-icon">üìÑ</span>
                <span class="nav-label">–ó–∞—è–≤–∫–∏</span>
                <span class="nav-badge" id="apps-badge" style="display:none">0</span>
            </button>
            <button class="nav-item" data-page="create">
                <span class="nav-icon nav-create">‚ûï</span>
                <span class="nav-label">–°–æ–∑–¥–∞—Ç—å</span>
            </button>
            <button class="nav-item" data-page="notifications">
                <span class="nav-icon">üîî</span>
                <span class="nav-label">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                <span class="nav-badge" id="notif-badge" style="display:none">0</span>
            </button>
            <button class="nav-item" data-page="profile">
                <span class="nav-icon">üë§</span>
                <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </nav>

        <!-- Home Page -->
        <div class="page active" id="page-home">
            <div class="header">
                <div class="logo-container">
                    <div class="logo">üåô</div>
                    <div class="logo-glow"></div>
                </div>
                <h1>NightLab</h1>
                <p class="subtitle">–í–∞—à –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card animated">
                    <span class="stat-icon">üìä</span>
                    <div class="stat-value" id="stat-total-apps">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫</div>
                </div>
                <div class="stat-card animated">
                    <span class="stat-icon">üí∞</span>
                    <div class="stat-value" id="stat-turnover">‚Ç¥0</div>
                    <div class="stat-label">–û–±–æ—Ä–æ—Ç</div>
                </div>
                <div class="stat-card animated">
                    <span class="stat-icon">üë•</span>
                    <div class="stat-value" id="stat-users">0</div>
                    <div class="stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
                <div class="stat-card animated">
                    <span class="stat-icon">üìà</span>
                    <div class="stat-value" id="stat-today">0</div>
                    <div class="stat-label">–ó–∞—è–≤–æ–∫ —Å–µ–≥–æ–¥–Ω—è</div>
                </div>
            </div>

            <div class="quick-actions">
                <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                <div class="actions-grid">
                    <button class="action-card" onclick="navigateTo('create')">
                        <div class="action-icon purple">üí≥</div>
                        <span>–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</span>
                    </button>
                    <button class="action-card" onclick="navigateTo('apps')">
                        <div class="action-icon green">üìÑ</div>
                        <span>–ú–æ–∏ –∑–∞—è–≤–∫–∏</span>
                    </button>
                    <button class="action-card" onclick="navigateTo('profile')">
                        <div class="action-icon orange">üë§</div>
                        <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                    </button>
                    <button class="action-card" onclick="openSupport()">
                        <div class="action-icon blue">üÜò</div>
                        <span>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Create Application Page -->
        <div class="page" id="page-create">
            <div class="page-header">
                <h2>–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞</h2>
                <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤</p>
            </div>

            <div class="form-container">
                <!-- Step 1: Country -->
                <div class="form-step active" id="step-1">
                    <div class="step-indicator">–®–∞–≥ 1 –∏–∑ 3</div>
                    <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É</h3>
                    <div class="options-grid" id="countries-list">
                        <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                </div>

                <!-- Step 2: Bank -->
                <div class="form-step" id="step-2">
                    <div class="step-indicator">–®–∞–≥ 2 –∏–∑ 3</div>
                    <h3>–í—ã–±–µ—Ä–∏—Ç–µ –±–∞–Ω–∫</h3>
                    <div class="options-grid" id="banks-list">
                        <div class="loading-spinner">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É</div>
                    </div>
                    <button class="btn-secondary" onclick="goToStep(1)">‚Üê –ù–∞–∑–∞–¥</button>
                </div>

                <!-- Step 3: Amount -->
                <div class="form-step" id="step-3">
                    <div class="step-indicator">–®–∞–≥ 3 –∏–∑ 3</div>
                    <h3>–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É</h3>
                    <div class="input-group">
                        <label>–°—É–º–º–∞ –≤ UAH</label>
                        <input type="number" id="amount-input" placeholder="1000" min="1" step="0.01">
                        <span class="input-hint">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞: 1 –≥—Ä–Ω</span>
                    </div>
                    <div class="selected-info" id="selected-info"></div>
                    <button class="btn-primary" onclick="submitApplication()">
                        <span class="btn-text">–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É</span>
                        <span class="btn-loader" style="display:none"></span>
                    </button>
                    <button class="btn-secondary" onclick="goToStep(2)">‚Üê –ù–∞–∑–∞–¥</button>
                </div>

                <!-- Success -->
                <div class="form-step" id="step-success">
                    <div class="success-animation">
                        <div class="success-checkmark">‚úì</div>
                    </div>
                    <h3>–ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∞!</h3>
                    <div class="success-details" id="success-details"></div>
                    <button class="btn-primary" onclick="navigateTo('apps')">–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞—è–≤–∫–∞–º</button>
                    <button class="btn-secondary" onclick="resetForm()">–°–æ–∑–¥–∞—Ç—å –µ—â—ë</button>
                </div>
            </div>
        </div>

        <!-- Applications Page -->
        <div class="page" id="page-apps">
            <div class="page-header">
                <h2>–ú–æ–∏ –∑–∞—è–≤–∫–∏</h2>
                <p>–ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</p>
            </div>

            <div class="filters">
                <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
                <button class="filter-btn" data-filter="WAITING_MERCHANT">–í –æ–±—Ä–∞–±–æ—Ç–∫–µ</button>
                <button class="filter-btn" data-filter="WAITING_PAYMENT">–û–ø–ª–∞—Ç–∞</button>
                <button class="filter-btn" data-filter="CONFIRMED">–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ</button>
            </div>

            <div class="applications-list" id="applications-list">
                <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞—è–≤–æ–∫...</div>
            </div>

            <div class="load-more" id="load-more" style="display:none">
                <button class="btn-secondary" onclick="loadMoreApps()">–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë</button>
            </div>
        </div>

        <!-- Notifications Page -->
        <div class="page" id="page-notifications">
            <div class="page-header">
                <h2>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
                <p>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</p>
            </div>

            <div class="notifications-list" id="notifications-list">
                <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π...</div>
            </div>
        </div>

        <!-- Profile Page -->
        <div class="page" id="page-profile">
            <div class="page-header">
                <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
                <p>–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</p>
            </div>

            <div class="profile-card">
                <div class="profile-avatar">
                    <span id="profile-avatar-text">üë§</span>
                </div>
                <div class="profile-info">
                    <h3 id="profile-username">@username</h3>
                    <span class="profile-role" id="profile-role">USER</span>
                </div>
            </div>

            <div class="balance-card">
                <div class="balance-label">–í–∞—à –±–∞–ª–∞–Ω—Å</div>
                <div class="balance-value" id="profile-balance">‚Ç¥0.00</div>
            </div>

            <div class="stats-section">
                <h4>–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
                <div class="stats-row">
                    <div class="stat-item">
                        <span class="stat-number" id="user-stat-apps">0</span>
                        <span class="stat-desc">–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="user-stat-confirmed">0</span>
                        <span class="stat-desc">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="user-stat-spent">‚Ç¥0</span>
                        <span class="stat-desc">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</span>
                    </div>
                </div>
            </div>

            <div class="referral-section">
                <h4>–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</h4>
                <p>–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã</p>
                <div class="referral-stats">
                    <span id="referral-count">0 –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã—Ö</span>
                </div>
                <div class="referral-link-box">
                    <input type="text" id="referral-link" readonly>
                    <button class="btn-copy" onclick="copyReferralLink()">üìã</button>
                </div>
                <button class="btn-share" onclick="shareReferral()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π</button>
            </div>
        </div>
    </div>

    <!-- Application Details Modal -->
    <div class="modal" id="app-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">–ó–∞—è–≤–∫–∞ #123</h3>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body" id="modal-body"></div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <script src="app.js"></script>
</body>
</html>
